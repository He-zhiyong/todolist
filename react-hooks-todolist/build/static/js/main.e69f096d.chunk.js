(window["webpackJsonpreact-hooks-todolist"]=window["webpackJsonpreact-hooks-todolist"]||[]).push([[0],{11:function(e,t,o){},13:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),c=o(3),a=o.n(c),l=(o(11),o(4)),i=o(5),u=o(1),d=(o(12),function(e){return r.a.createElement("input",{className:"new-todo",type:"text",placeholder:"What needs to be done?",autoFocus:!0,onKeyDown:function(t){if(13===t.keyCode){t.preventDefault();var o=t.target,n=o.value.trim();n.trim()&&(e.onAddTodo(n),o.value="")}}})}),s=function(e){var t=e.todo,o=e.todoBeingEdited,c=e.onToggleTodo,a=e.onStartEditTodo,l=e.onEndEditTodo,i=e.onCancelEditTodo,u=e.onDestroyTodo,d=null;Object(n.useEffect)((function(){return o&&d.focus(),function(){}}),[d,o]);var s=function(e){var t=d.value.trim();t?l(t):e&&u()};return r.a.createElement("li",{className:[t.completed?"completed":"",t===o?"editing":""].join(" ")},r.a.createElement("div",{className:"view"},r.a.createElement("input",{className:"toggle",type:"checkbox",checked:t.completed,onChange:c}),r.a.createElement("label",{onDoubleClick:function(){d.value=t.text,a()}},t.text),r.a.createElement("button",{className:"destroy",onClick:u})),r.a.createElement("input",{ref:function(e){return d=e},className:"edit",autoFocus:!0,onBlur:function(){return s()},onKeyDown:function(e){27===e.which?i():13===e.which&&s(!0)}}))},m=function(e){var t=e.totalCount,o=e.visibleTodos,n=e.todoBeingEdited,c=e.activeTodoCount,a=e.onToggleTodo,l=e.onToggleAllTodo,i=e.onStartEditTodo,u=e.onEndEditTodo,d=e.onCancelEditTodo,m=e.onDestroyTodo;return r.a.createElement("section",{className:"main",style:{display:t>0?"block":"none"}},r.a.createElement("input",{id:"toggleAll",className:"toggle-all",type:"checkbox",onChange:function(e){var t=e.target.checked;l(t)},checked:0===c}),r.a.createElement("label",{htmlFor:"toggleAll"}),r.a.createElement("ul",{className:"todo-list"},o.map((function(e){return r.a.createElement(s,{key:e.id,todo:e,todoBeingEdited:n,onToggleTodo:function(){return a(e.id)},onStartEditTodo:function(){return i(e)},onEndEditTodo:function(t){return u(e.id,t)},onCancelEditTodo:function(){return d()},onDestroyTodo:function(){return m(e.id)}})}))))},f=function(e){var t=e.visibilityFilter,o=e.activeTodoCount,n=e.completedTodoCount,c=e.onFilterChange,a=e.onClearCompletedTodo;if(!o&&!n)return null;var l=function(e,o){return r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return c(e)},className:e===t?"selected":""},o)," ")};return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},r.a.createElement("strong",null,o)," ",o>1?"items":"item"," left"),r.a.createElement("ul",{className:"filters"},l("all","All"),l("active","Active"),l("completed","Completed")),0===n?null:r.a.createElement("button",{className:"clear-completed",onClick:a},"Clear completed"))};function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(o,!0).forEach((function(t){Object(l.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var g=function(){window.onbeforeunload=function(){localStorage.setItem("todos",JSON.stringify(o))};var e=Object(n.useState)(JSON.parse(localStorage.getItem("todos")||"[]")),t=Object(u.a)(e,2),o=t[0],c=t[1],a=Object(n.useState)("all"),l=Object(u.a)(a,2),s=l[0],p=l[1],g=Object(n.useState)(null),b=Object(u.a)(g,2),h=b[0],T=b[1],v=Object(n.useState)([]),O=Object(u.a)(v,2),y=O[0],w=O[1],C=Object(n.useState)(0),j=Object(u.a)(C,2),k=j[0],N=j[1],S=Object(n.useState)(0),D=Object(u.a)(S,2),A=D[0],x=D[1];Object(n.useEffect)((function(){w((function(){switch(s){case"all":return o;case"active":return o.filter((function(e){return!e.completed}));case"completed":return o.filter((function(e){return e.completed}));default:return o}})),N(o.reduce((function(e,t){return e+(t.completed?0:1)}),0)),x(o.length-o.reduce((function(e,t){return e+(t.completed?0:1)}),0))}),[o,s]);return r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"todoapp"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todolist"),r.a.createElement(d,{onAddTodo:function(e){c((function(){return[].concat(Object(i.a)(o),[{text:e,id:Date.now().toString(),completed:!1}])}))}})),r.a.createElement(m,{totalCount:o.length,visibleTodos:y,todoBeingEdited:h,activeTodoCount:k,onToggleTodo:function(e){return function(e){c((function(t){return t.map((function(t){return t.id===e&&(t.completed=!t.completed),E({},t)}))}))}(e)},onToggleAllTodo:function(e){return function(e){c((function(t){return t.map((function(t){return t.completed=e,E({},t)}))}))}(e)},onStartEditTodo:function(e){return function(e){T(e)}(e)},onEndEditTodo:function(e,t){return function(e,t){c((function(o){return o.forEach((function(o){o.id===e&&(o.text=t)})),o})),T(null)}(e,t)},onCancelEditTodo:function(){T(null)},onDestroyTodo:function(e){return function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)}}),r.a.createElement(f,{visibilityFilter:s,activeTodoCount:k,completedTodoCount:A,onFilterChange:function(e){return function(e){p(e)}(e)},onClearCompletedTodo:function(){c((function(e){return e.filter((function(e){return!1===e.completed}))}))}})),r.a.createElement("footer",{className:"info"},r.a.createElement("p",null,"Double-click to edit a todo"),r.a.createElement("p",null,"TodoList based on react"),r.a.createElement("p",null,"Source:",r.a.createElement("a",{href:"https://github.com/he-zhiyong/todolist/tree/master/react-hooks-todolist"}," GitHub "),"or",r.a.createElement("a",{href:"https://gitee.com/he-zhiyong/todolist/tree/master/react-hooks-todolist"}," Gitee "))))},b=function(){return r.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,o){e.exports=o(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.e69f096d.chunk.js.map